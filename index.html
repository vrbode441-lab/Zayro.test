<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>اختبار الذكاء IQ – Zayro.test</title>
<style>
  body {
    margin: 0;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #111, #222);
    color: #fff;
    display: flex;
    justify-content: center;
    padding: 20px;
  }
  .container {
    max-width: 650px;
    width: 100%;
    background: #1a1a1a;
    padding: 30px 40px;
    border-radius: 20px;
    box-shadow: 0 0 25px rgba(0,0,0,0.6);
    position: relative;
  }
  h1 {
    text-align: center;
    margin-bottom: 25px;
    color: #4ec9ff;
    font-size: 32px;
  }
  .intro {
    text-align: center;
    font-size: 18px;
    margin-bottom: 25px;
    line-height: 1.5;
  }
  .btn {
    width: 100%;
    padding: 14px;
    border: none;
    border-radius: 12px;
    background: #4ec9ff;
    color: #000;
    font-size: 18px;
    cursor: pointer;
    margin-top: 20px;
    transition: 0.3s;
  }
  .btn:hover {
    background: #3bb0e0;
  }
  .question {
    margin-bottom: 24px;
  }
  label {
    display: block;
    margin-bottom: 12px;
    font-size: 20px;
  }
  select, input[type="radio"] {
    margin-right: 8px;
    font-size: 18px;
    padding: 8px;
    border-radius: 8px;
  }
  #resultBox {
    background: #000;
    padding: 25px;
    margin-top: 30px;
    border-radius: 16px;
    display: none;
    font-size: 16px;
  }
  .title { color: #4ec9ff; margin-bottom: 10px; font-size: 20px; }
  .progress {
    height: 12px;
    background: #333;
    border-radius: 8px;
    margin-bottom: 25px;
    overflow: hidden;
  }
  .progress-bar {
    height: 100%;
    width: 0%;
    background: #4ec9ff;
    transition: 0.5s;
  }
  .watermark {
    position: absolute;
    bottom: 10px;
    right: 10px;
    font-size: 12px;
    color: rgba(255,255,255,0.3);
    user-select: none;
  }
  @media(max-width: 480px){
    .container {
      padding: 20px;
    }
    h1 { font-size: 26px; }
    label { font-size: 18px; }
    .btn { font-size: 16px; }
  }
</style>
</head>
<body>
<div class="container">
  <h1>اختبار الذكاء IQ</h1>
  <div class="intro">
    مرحبًا! اختبر ذكاءك بطريقة ممتعة وسريعة. سيقيس هذا الاختبار قدراتك المنطقية، البصرية، والحسابية في 10 أسئلة فقط. حاول الإجابة بأفضل ما لديك!
  </div>
  <div id="quiz"></div>
  <div class="progress"><div class="progress-bar" id="progressBar"></div></div>
  <button class="btn" id="nextBtn" onclick="next()">ابدأ الاختبار</button>
  <div id="resultBox"></div>
  <div class="watermark">المطور: عبدالرحمن أنور</div>
</div>

<script>
const questions = [
  {q:"أكمل التسلسل: 2, 4, 8, 16, ___ ؟", opts:["18","20","32","24"], correctIndex:2, difficulty:3, timeLimit:30},
  {q:"أي الرقم لا ينتمي للمجموعة؟ 2, 4, 8, 9, 16", opts:["4","9","16","8"], correctIndex:1, difficulty:2, timeLimit:25},
  {q:"5, 8, 11, ___ ؟", opts:["14","13","12","15"], correctIndex:1, difficulty:2, timeLimit:20},
  {q:"الكلمة التي لا تنتمي: كتاب، دفتر، قلم، كرسي", opts:["كتاب","قلم","كرسي","دفتر"], correctIndex:2, difficulty:2, timeLimit:20},
  {q:"أي الرقم أكبر: 53 × 2 أم 101؟", opts:["106","101","103","102"], correctIndex:0, difficulty:2, timeLimit:15},
  {q:"1, 1, 2, 3, 5, ___ ؟", opts:["6","7","8","9"], correctIndex:2, difficulty:2, timeLimit:20},
  {q:"إذا كانت كل التفاحات فواكه وكل الفواكه صالحة للأكل، فالتفاح؟", opts:["صالح للأكل","ليس فاكهة","أحمر فقط","لا يمكن تحديده"], correctIndex:0, difficulty:2, timeLimit:25},
  {q:"أي الشكل يكمل النمط؟", opts:["شكل أ","شكل ب","شكل ج","شكل د"], correctIndex:2, difficulty:3, timeLimit:35},
  {q:"7 × 8 = ؟", opts:["48","54","56","64"], correctIndex:2, difficulty:2, timeLimit:15},
  {q:"لديك سلسلة أرقام: 10, 20, 40, ___ ؟", opts:["50","60","80","70"], correctIndex:2, difficulty:3, timeLimit:25}
];

let current = -1;
let rawScore = 0;
let startTime = null;

function loadQuestion(){
  if(current<0) {document.getElementById("nextBtn").innerText="التالي";}
  const q = questions[current];
  startTime = Date.now();
  const quiz = document.getElementById("quiz");
  quiz.innerHTML = `
    <div class="question">
      <label>${current+1}. ${q.q}</label>
      <select id="answer">
        ${q.opts.map((opt,i)=>`<option value="${i}">${opt}</option>`).join('')}
      </select>
    </div>
  `;
  document.getElementById("progressBar").style.width = ((current+1)/questions.length*100)+"%";
}

function next(){
  if(current>=0){
    const ans = Number(document.getElementById("answer").value);
    const elapsed = (Date.now() - startTime)/1000;
    const q = questions[current];
    if(ans===q.correctIndex){
      let score = q.difficulty;
      if(elapsed < q.timeLimit){
        score += (q.timeLimit - elapsed)/q.timeLimit * q.difficulty;
      }
      rawScore += score;
    }
  }
  current++;
  if(current<questions.length){
    loadQuestion();
  } else {
    showResult();
  }
}

function showResult(){
  const mu = questions.length*2.2; // متوسط تقريبي
  const sigma = questions.length*0.9; // انحراف معياري
  const z = (rawScore - mu)/sigma;
  const iq = Math.round(z*15 + 100);

  const result = document.getElementById("resultBox");
  result.style.display="block";
  result.innerHTML = `
    <div class="title">IQ: ${iq}</div>
    <div class="title">الدرجة الخام: ${rawScore.toFixed(2)}</div>
    <div class="title">تحليل سريع:</div>
    <ul>
      <li>إذا كانت النتيجة >120: ذكاء فوق المتوسط</li>
      <li>90-120: ذكاء متوسط</li>
      <li><90: يحتاج تطوير بعض المهارات</li>
    </ul>
  `;
  document.getElementById("nextBtn").style.display="none";
}

current=0;
loadQuestion();
</script>
</body>
</html>
